<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xp.glasses.mapper.wechat.WeChatOrderMapper">


    <insert id="saveOrderMainInfo" parameterType="com.xp.glasses.entity.order.Order">
        INSERT INTO `order`
        (
         order_no,
         wepay_no,
         logistics_no,
         user_id,
         address_id,
         shop_id,
         order_price,
         remarks,
         order_status,
         create_time,
         pay_time,
         send_time,
         complete_time
         )
         values
        (
        #{orderNo},
        #{wePayNo},
        #{logisticsNo},
        #{userId},
        #{addressId},
        #{shopId},
        #{orderPrice},
        #{remarks},
        #{orderStatus},
        #{createTime},
        #{payTime},
        #{sendTime},
        #{completeTime}
        )
    </insert>
    <insert id="saveOrderGoodsItems" parameterType="list">
        INSERT INTO
        order_item
        (id, order_no, goods_id, num, unit_price, attrs) VALUES
        <foreach collection="list" separator="," index="index" item="item">
            (#{item.id},
            #{item.orderNo},
            #{item.goodsId},
            #{item.num},
            #{item.unitPrice},
            #{item.attrs})
        </foreach>
    </insert>
</mapper>